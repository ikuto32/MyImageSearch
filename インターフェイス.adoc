
= インターフェイス
:toc:
:sectnums:
:toclevels: 3

//######################################################################
== ファイル

=== メインページ取得

戻り値::
index.htmlの文章


//######################################################################
== エンドポイント

//===============================================================
=== /image_item - すべての画像項目を取得

----

/image_item

----


戻り値::
[source, ts]
----
{
    "image_item":{

        "id": string, //画像ID
        "name": string, //画像の名前
    }[]
}
----


//===============================================================
=== /image_item/<id>/ - 画像項目を取得

----

/image_item/<id>

----


戻り値::
[source, ts]
----
{
    "id": string, //画像ID
    "name": string, //画像の名前
}
----


//===============================================================
=== /image_item/<id>/image - 画像読み込み

----

/image_item/<id>/image

----

id::
取得する画像ID

戻り値::
画像(image/png or image/jpeg)


//===============================================================
=== /model_item/ - すべての検索モデル項目を取得

----

/model_item

----

戻り値::
[source, ts]
----
{
    "model_item":{

        "id": string, //検索モデルのID
        "name": string, //検索モデルの名前
    }[]
}
----




//===============================================================
=== /search/text - テキストから画像検索

----

/search/text?model=<string>&text=<string>

----

model::
検索モデルID

text::
検索文字列

aesthetic_quality_beta::
美感スコアの重要度

戻り値::
[source, ts]
----
{
    item: {
        "id": string, //画像ID 
        "score":float //画像のスコア
    }[]
}
----


//===============================================================
=== /search/image - 画像から画像検索

----

/search/image?payload=<json>

----

payload::
[source, ts]
----
{
    "model": string, //画像モデルのID
    "id": string[], //選択された画像ID
    "aesthetic_quality_beta": float //美感スコアの重要度
}
----

戻り値::
[source, ts]
----
{
    item: {
        "id": string, //画像ID 
        "score":float //スコア
    }[]
}
----



//===============================================================
=== /search/uploadImage - アップロードされた画像から画像検索

----

/search/image?payload=<json>

----

payload::
[source, ts]
----
{
    "model": string, //画像モデルのID
    "base64": string, //アップロードされた画像のbase64
    "content_type": string, //アップロードされた画像のContent-Type
}
----

戻り値::
[source, ts]
----
{
    item: {
        "id": string, //画像ID 
        "score":float //画像のスコア
    }[]
}
----