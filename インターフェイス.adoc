
= インターフェイス
:toc:
:sectnums:
:toclevels: 3

//######################################################################
== ファイル

=== メインページ取得

戻り値::
index.htmlの文章


//######################################################################
== エンドポイント


//===============================================================
=== /image/<id> - 画像読み込み

----

/image/<id>

----

id::
取得する画像ID

戻り値::
画像(image/png or image/jpeg)



//===============================================================
=== /image/<id>/name - 画像の名前を取得

----

/image/<id>/name

----

id::
対象の画像ID

戻り値::
[source, ts]
----
{
    "name": string,
}
----


//===============================================================
=== /search/all - すべての画像を取得

----

/search/all

----


戻り値::
[source, ts]
----
{
    image: {
        "id": string, //画像ID 
        "score":float //画像のスコア
    }[]
}
----


//===============================================================
=== /search/text - テキストから画像検索

----

/search/text?text=<string>

----

text::
検索文字列

戻り値::
[source, ts]
----
{
    image: {
        "id": string, //画像ID 
        "score":float //画像のスコア
    }[]
}
----


//===============================================================
=== /search/image - 画像から画像検索

----

/search/image?payload=<json>

----

payload::
[source, ts]
----
{
    "id": string[], //選択された画像ID
}
----

戻り値::
[source, ts]
----
{
    image: {
        "id": string, //画像ID 
        "score":float //画像のスコア
    }[]
}
----



//===============================================================
=== /search/uploadImage - アップロードされた画像から画像検索

----

/search/image?payload=<json>

----

payload::
[source, ts]
----
{
    "base64": string, //アップロードされた画像のbase64
    "mime_type": string, //アップロードされた画像のContent-Type
}
----

戻り値::
[source, ts]
----
{
    image: {
        "id": string, //画像ID 
        "score":float //画像のスコア
    }[]
}
----