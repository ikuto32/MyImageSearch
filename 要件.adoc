
= 要件

== このファイルの概要

ドメイン層を設計するには、このアプリケーションでどのような機能を実現しようとしているかをまとめる必要がある。
ドメイン層は、その機能の概念や物体を実装し、整合性を維持することが役割である。

そのため、ファイルに機能をまとめようとしている。

== 要件の列挙

.機能(ユースケース)
- ユーザは、画像の項目を一覧で確認できる。
-- 画像の項目に紐づいた画像を確認できる

- ユーザは、検索モデルの項目を一覧で確認できる。

- ユーザは、検索モデルの項目と{検索文字列や画像の項目、アップロードされた画像}で、画像の項目を検索できる。

- ユーザは、検索結果の画像の項目(スコア含む)を一覧で確認できる。
-- 検索結果の画像の項目に紐づいた画像を確認できる

.条件・特記
- ユーザは、不特定多数であり、識別不要である。
- ユーザ別のスコープが存在せず、グローバルな設定動作のみを行える。

- 性能を考慮し、画像は遅延読み込みされる
- 性能を考慮し、検索モデルは遅延読み込みされる

- 検索していない場合のスコアは、表示上の問題であるため、項目に含まない
- ユーザ別のスコープが存在しないため、検索結果は、検索動作の終了時に返し、保存を行わない。



== モデリング


.名詞と命名の対応
- ユーザ　-> <不要>

- 画像の項目 -> ImageItem (Entity)
- 画像 -> Image (Value)

- 検索モデルの項目 -> ModelItem (Entity)
- 検索モデル -> Model (Value)

- 検索結果の画像の項目 -> ResultImageItem (Entity)
- 検索結果の画像 -> <Image>

- 検索文字列 -> UploadText (Value)
- アップロードされた画像 -> UploadImage  (Value)

- スコア -> Score (Value)

.エンティティの構造
- ImageItem(ImageId, ImageName)
- Image(<binary>, <content-type>)

- ModelItem(ModelId, ModelName)
- Model(<object>)

- ResultImageItem(Item, Score)


